---
layout: post
title: "Week15_AWS"
subtitle: AWS
thumbnail-img: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Amazon_Web_Services_Logo.svg/512px-Amazon_Web_Services_Logo.svg.png"
tag: Smart_Device
---



<br><br>
<br><br>

## 0️⃣  AWS
<hr/>
<br>
<br><br>
### ▶️ AWS란?<br><br>
#### Amazon Web Service<br><br>
#### 클라우드 컴퓨팅 플랫폼으로 작동하여 인터넷을 통해 IT 리소스에 대한 원격 액세스 제공 <br><br>
#### 즉, 서버, 네트워크 등 인프라 전체를 빌려주는 서비스
<br><br>
<img src = "https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Amazon_Web_Services_Logo.svg/512px-Amazon_Web_Services_Logo.svg.png"/><br><br>
<br><br>
<br><br>

### ▶️ 클라우드란?<br><br>
#### 데이터를 보관, 정리, 분석하고 새로운 서비스를 빠르게 추진할 수 있도록 IT 기술을 빌려주는 서비스 <br><br>
<br><br>
<br><br>

### ▶️ 클라우드 컴퓨팅이란?<br><br>
#### 클라우드를 통해 가상화된 컴퓨팅 리소스를 제공 <br><br>

<br><br>
<br><br>

### ▶️ AWS와 IOT?<br><br>
#### AWS는 Iot 애플리케이션을 구축 및 배포하기 위한 다양한 서비스와 도구를 제공 <br><br>
#### 기업에서 디바이스를 쉽게 연결, 관리하고 데이터를 처리, 분석 가능 <br><br>

<br><br>
<br><br>
<br><br>

## 1️⃣ AWS와 ESP32 연결 방법
<hr/>
<br>
<br><br>
<br><br>
### 1. AWS 회원가입 -> Iot Core 접속<br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/48a0cc59-214d-469e-aed9-6335c66a4a6f)<br><br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/9e1fea3c-b813-4781-b3ee-4bf594301c31)

<br><br>

<br>
<br><br>
<br><br>
### 2. 사물 생성 <br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/8f72241e-f56c-4184-9e86-331a8313067d)
<br><br>
#### 1) 단일 사물 생성
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/346fe43b-64e0-4a5e-b6ba-f98bfe83f7cd)
<br><br>
<br><br>
#### 2) 사물 이름 지정
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/00df7776-ff66-44cc-8adb-30e7d79e5242)<br><br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/904b00ab-625e-4d12-895d-6903a5205068)
<br><br>
<br><br>
#### 3) 인증키 다운로드
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/098a7251-391f-4149-82cb-4aa307e565a9)
<br><br>
<br><br>
<br><br>
### 3. 생성된 사물에서 arn 복사<br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/32803d87-6272-4205-9828-ccdc37509871)<br><br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/c54354b4-5795-40ea-9f68-7c5d94bb39c9)<br><br>

<br><br>
<br><br>
### 4. 정책 생성<br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/40de091e-12b1-4fd1-8885-6f581aa192e1)<br><br>
#### 복사한 arn 붙여넣고 정책 생성<br><br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/a58765cd-b35a-4fc6-98da-41966fa9fd3c)<br><br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/12f1e548-db62-4922-ac7d-c75c8b6629d7)
<br><br>
<br><br>
<br><br>

### 5. 정책에 연결 <br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/18c56b52-1ad2-4d7d-beb3-c4db6d4d449d)
<br><br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/adb297f2-7901-4977-a8c7-c89a520ec94c)<br><br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/99588fd8-d2e9-41a8-8ec1-3e51c1d32bef)
<br><br>
<br><br>
<br><br>
<br><br><br><br>

## 2️⃣ ESP32 코드 업로드
<hr/>
<br>
<br><br>
<br><br>
### 1. ESP_AWS_IoT_Tutorial.ino
<script src="https://gist.github.com/yejin0509/3e7d5ae9a573c4907205c2cbbe98014f.js"></script><br><br>
#### AWS_IOT_PUBLISH_TOPIC / AWS_IOT_SUBSCRIBE_TOPIC은 정책 생성 시 지정했던 esp32/pub과 동일해야함<br><br>
<br><br>
<br><br>
<br><br>
### 2. secret.h 코드 생성
<script src="https://gist.github.com/yejin0509/6c5979abe88103fb5b03b8c92be2eae0.js"></script><br><br>
<br><br>
#### endPoint 확인
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/84bf627b-d8c7-481c-ade1-a494208ad5e2)
<br><br>
<br><br>
<br><br>
### 3. 시리얼 모니터에서 연결 확인
<image>
<br><br><br><br>
<br><br><br><br>

## 3️⃣ MQTT 연결 확인
<hr/>
<br>
<br><br>
<br><br>

### 1. Test에서 MQTT 테스트 클라이언트 접속 <br>
#### 주제 구독에서 esp32/pub으로 게시 후 결과 값 확인<br><br>
![image](https://github.com/yejin0509/yejin0509.github.io/assets/63178658/af314612-6494-482d-8d80-3141ce697d0a)
<br><br>
<image>
<br><br>
<br><br>
<br><br>

<br><br><br><br><br><br>
#### 참고
https://seaforest76.tistory.com/13
<br><br>
https://velog.io/@cheesam31/ESP32-with-AWS-IoT-2-
<br><br>
<br><br>
<br><br>
<br><br>
